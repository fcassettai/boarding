<div class="row justify-content-center" style="height:100vh">
  <div class="col-4">
    <h2 class="text-center pt-5">Signup</h2>
    <div class="card">
      <div class="card-body">
        <form action="/auth/signup" method="POST" id="form-container">
          <div class="form-group">
            <input type="text" class="form-control" name="username" placeholder="Username">
          </div>
          <div class="form-group">
            <input type="password" class="form-control" name="password" placeholder="Password">
          </div>
          <label for="position" class="pl-1">Your Position</label>
          <div id='geocoder-signup' class='geocoder'></div>
          <div class="text-center">
            <button class="btn btn-primary mt-4">Signup</button>
          </div>
          <div class="text-center pt-3">
            <p class="account-message">
              Already have an account?
              <a href="/auth/login">Login</a>
            </p>
          </div>
          {{#if message }}
          <div class="error-message">{{ message }}</div>
          {{/if}}
        </form>
      </div>
    </div>
  </div>
</div>

<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v3.1.0/mapbox-gl-geocoder.min.js'></script>
<link rel='stylesheet'
  href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v3.1.0/mapbox-gl-geocoder.css' type='text/css' />
<style>
  .mapboxgl-ctrl-geocoder {
    min-width: 100%;
  }
</style>
<div id='map'></div>

<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiZnJkMjZ4IiwiYSI6ImNqcnQ4ZGFzMjF4dDA0M3BzOWg4NGNlem4ifQ.SgF_HKYViz0-nlirZ9Ksag';
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [-79.4512, 43.6568],
    zoom: 13
  });

  var geocoder = new MapboxGeocoder({
    accessToken: mapboxgl.accessToken
  });

  document.getElementById('geocoder-signup').appendChild(geocoder.onAdd(map));
  document.getElementById('geocoder-signup').firstChild.childNodes[1].setAttribute("name", 'position')

</script>